(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{468:function(t,s,l){"use strict";l.r(s);var _=l(55),a=Object(_.a)({},(function(){var t=this,s=t.$createElement,l=t._self._c||s;return l("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[l("h1",{attrs:{id:"模块加载-相关知识"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#模块加载-相关知识"}},[t._v("#")]),t._v(" 模块加载 相关知识")]),t._v(" "),l("div",{staticClass:"custom-block tip"},[l("p",{staticClass:"custom-block-title"},[t._v("模块说明")]),t._v(" "),l("p",[t._v("在 node.js 中模块分为 3 种：内置模块、自定义模块、第三方模块。")])]),t._v(" "),l("h2",{attrs:{id:"_1-优先从缓存中加载"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#_1-优先从缓存中加载"}},[t._v("#")]),t._v(" 1. 优先从缓存中加载")]),t._v(" "),l("div",{staticClass:"custom-block tip"},[l("p",{staticClass:"custom-block-title"},[t._v("模块缓存机制")]),t._v(" "),l("ul",[l("li",[l("strong",[t._v("这 3 种模块在第一次加载后都会被缓存，从而提高加载效率")]),t._v("。这也意味着多次调用 require() 不会导致模块的代码被执行多次。")])])]),t._v(" "),l("h2",{attrs:{id:"_2-内置模块和第三方模块优先级"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#_2-内置模块和第三方模块优先级"}},[t._v("#")]),t._v(" 2. 内置模块和第三方模块优先级")]),t._v(" "),l("div",{staticClass:"custom-block tip"},[l("p",{staticClass:"custom-block-title"},[t._v("模块优先级")]),t._v(" "),l("ul",[l("li",[l("strong",[t._v("内置模块优先级较高")]),t._v("。这也意味着内置模块与第三方模块同名时，加载的是内置模块")])])]),t._v(" "),l("h2",{attrs:{id:"_3-自定义模块的加载机制"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#_3-自定义模块的加载机制"}},[t._v("#")]),t._v(" 3. 自定义模块的加载机制")]),t._v(" "),l("div",{staticClass:"custom-block tip"},[l("p",{staticClass:"custom-block-title"},[t._v("加载顺序")]),t._v(" "),l("ul",[l("li",[t._v("加载自定义模块时需要指定路径")]),t._v(" "),l("li",[t._v("加载自定义模块时可以省略后缀名")]),t._v(" "),l("li",[t._v("例如：假设 demo 是个自定义模块，使用 require('./demo')，则查找顺序如下：\n"),l("ul",[l("li",[l("ol",[l("li",[t._v("加载 "),l("strong",[t._v("demo")]),t._v(" 文件内容，若没有")])])]),t._v(" "),l("li",[l("ol",{attrs:{start:"2"}},[l("li",[t._v("加载 "),l("strong",[t._v("demo.js")]),t._v(" 文件内容，若没有")])])]),t._v(" "),l("li",[l("ol",{attrs:{start:"3"}},[l("li",[t._v("加载 "),l("strong",[t._v("demo.json")]),t._v(" 文件内容，若没有")])])]),t._v(" "),l("li",[l("ol",{attrs:{start:"4"}},[l("li",[t._v("加载 "),l("strong",[t._v("demo.node")]),t._v(" 文件内容，若没有")])])]),t._v(" "),l("li",[l("ol",{attrs:{start:"5"}},[l("li",[t._v("加载失败，报错")])])])])])])]),t._v(" "),l("h2",{attrs:{id:"_4-第三方模块的加载机制"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#_4-第三方模块的加载机制"}},[t._v("#")]),t._v(" 4. 第三方模块的加载机制")]),t._v(" "),l("div",{staticClass:"custom-block tip"},[l("p",{staticClass:"custom-block-title"},[t._v("加载顺序")]),t._v(" "),l("ul",[l("li",[t._v("加载第三方模块时也有查找顺序")]),t._v(" "),l("li",[t._v("例如：假设 demo 是个第三方模块，使用 require('demo')，则查找顺序如下：\n"),l("ul",[l("li",[l("ol",[l("li",[t._v("加载 "),l("strong",[t._v("当前文件目录中 node_modules 下的 demo")]),t._v(" 文件内容")])])]),t._v(" "),l("li",[l("ol",{attrs:{start:"2"}},[l("li",[t._v("去 "),l("strong",[t._v("上一层文件目录中 node_modules 下的 demo")]),t._v(" 加载文件内容")])])]),t._v(" "),l("li",[l("ol",{attrs:{start:"3"}},[l("li",[t._v("继续去 "),l("strong",[t._v("上一层文件目录中 node_modules 下的 demo")]),t._v(" 加载文件内容")])])]),t._v(" "),l("li",[l("ol",{attrs:{start:"4"}},[l("li",[t._v("直到电脑磁盘根目录，加载失败就报错")])])])])])])]),t._v(" "),l("h2",{attrs:{id:"_5-使用目录作为导入标识"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#_5-使用目录作为导入标识"}},[t._v("#")]),t._v(" 5. 使用目录作为导入标识")]),t._v(" "),l("div",{staticClass:"custom-block tip"},[l("p",{staticClass:"custom-block-title"},[t._v("加载说明")]),t._v(" "),l("ul",[l("li",[t._v("以目录为模块导入时，也有查找顺序 "),l("strong",[t._v("（目录一般也是自定义模块）")])]),t._v(" "),l("li",[t._v("例如：假设 demo 是个 "),l("strong",[t._v("文件目录名")]),t._v("，使用 require('demo')，则查找顺序如下：\n"),l("ul",[l("li",[l("ol",[l("li",[t._v("查看 demo 文件夹中 package.json 里的 main 属性，作为导入入口")])])]),t._v(" "),l("li",[l("ol",{attrs:{start:"2"}},[l("li",[t._v("若 demo 文件夹中不存在 package.json 或 没有 main 属性，则加载 demo/index.js")])])]),t._v(" "),l("li",[l("ol",{attrs:{start:"3"}},[l("li",[t._v("若都找不到，就会报错：Error: Cannot find module 'xxx'")])])])])])])])])}),[],!1,null,null,null);s.default=a.exports}}]);