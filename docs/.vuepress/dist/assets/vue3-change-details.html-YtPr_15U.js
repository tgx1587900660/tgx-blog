import{_ as s,o as n,c as a,e}from"./app-CkeFUswH.js";const t={},p=e(`<h1 id="vue3-相对于-vue2-的某些变化" tabindex="-1"><a class="header-anchor" href="#vue3-相对于-vue2-的某些变化"><span>Vue3 相对于 Vue2 的某些变化</span></a></h1><h2 id="_1-单文件组件变化" tabindex="-1"><a class="header-anchor" href="#_1-单文件组件变化"><span>1. 单文件组件变化</span></a></h2><ul><li>不再限制 template 中只能有一个根节点标签</li></ul><details class="custom-container details"><summary>点击查看 区别 案例</summary><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token comment">&lt;!-- Vue3 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>App 根组件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>App 根组件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>45<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

----------------------------------

<span class="token comment">&lt;!-- Vue2 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root-wapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>App 根组件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>App 根组件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>45<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h2 id="_2-创建-vue-实例语法变化" tabindex="-1"><a class="header-anchor" href="#_2-创建-vue-实例语法变化"><span>2. 创建 Vue 实例语法变化</span></a></h2><details class="custom-container details"><summary>点击查看 区别 案例</summary><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// Vue3</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App.vue&#39;</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>

<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>

<span class="token comment">// Vue2</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App.vue&#39;</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h2 id="_3-vue-devtool-调试工具" tabindex="-1"><a class="header-anchor" href="#_3-vue-devtool-调试工具"><span>3. vue-devtool 调试工具</span></a></h2><ul><li>vue-devtool 调试工具也要更改，如果使用的 vue3 版本就关闭 vue2 对应的 调试工具，要安装 vue3 对应的调试工具版本</li></ul><h2 id="_4-样式穿透变更" tabindex="-1"><a class="header-anchor" href="#_4-样式穿透变更"><span>4. 样式穿透变更</span></a></h2><div class="custom-container tip"><p class="custom-container-title">说明</p><p>/deep/ 写法依然生效，但在 Vue3 中不再推荐，而用 :deep() 替代 <strong>（把选择器放在括号内）</strong></p></div><details class="custom-container details"><summary>点击查看 变更 案例</summary><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// Vue3</span>
<span class="token operator">&lt;</span>style scoped<span class="token operator">&gt;</span>
<span class="token operator">:</span><span class="token function">deep</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">.</span>title</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">color</span><span class="token operator">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>

<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>

<span class="token comment">// Vue2</span>
<span class="token operator">&lt;</span>style scoped<span class="token operator">&gt;</span>
<span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">deep</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">.</span>title <span class="token punctuation">{</span>
    <span class="token literal-property property">color</span><span class="token operator">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h2 id="_5-自定义事件-emits-节点" tabindex="-1"><a class="header-anchor" href="#_5-自定义事件-emits-节点"><span>5. 自定义事件 emits 节点</span></a></h2><div class="custom-container tip"><p class="custom-container-title">说明</p><p>虽然不声明 emits 节点也能工作，但有了 emits 属性，子组件自定义事件就更加清晰了</p></div><details class="custom-container details"><summary>点击查看 变更 案例</summary><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// Vue3</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;App&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">emits</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;num-change&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 多了 emits 节点, 包含该组件所有自定义事件</span>
    <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">&#39;num-change&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>

<span class="token comment">// Vue2</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;App&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">&#39;num-change&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h2 id="_6-vue-实例-生命周期函数-变化" tabindex="-1"><a class="header-anchor" href="#_6-vue-实例-生命周期函数-变化"><span>6. Vue 实例 生命周期函数 变化</span></a></h2><div class="custom-container tip"><p class="custom-container-title">名称变更</p><ul><li><p>Vue2</p><ul><li>创建阶段：beforeCreate, created （在内存中创建）</li><li>挂载阶段：beforeMount, mounted （挂载到 dom 上）</li><li>更新阶段：beforeUpdate, undated （data 数据更新）</li><li><strong>销毁阶段：beforeDestroy, destroyed （实例被销毁）</strong></li></ul></li><li><p>Vue3</p><ul><li>创建阶段： beforeCreate, created （在内存中创建）</li><li>挂载阶段：beforeMount, mounted （挂载到 dom 上）</li><li>更新阶段：beforeUpdate, undated （data 数据更新）</li><li><strong>销毁阶段：beforeUnmount, Unmounted （实例被销毁）</strong></li></ul></li></ul></div><h2 id="_7-挂载-axios-等工具变化" tabindex="-1"><a class="header-anchor" href="#_7-挂载-axios-等工具变化"><span>7. 挂载 axios 等工具变化</span></a></h2><div class="custom-container tip"><p class="custom-container-title">说明</p><ul><li>vue3 不再推荐把某些工具挂载在 原型对象 prototype 上</li><li>vue3 的实例 app 提供一个 config.globalProperties 代替原先的挂载方案</li></ul></div><details class="custom-container details"><summary>点击查看 区别 案例</summary><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// vue3</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">&#39;axios&#39;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App&#39;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>

app<span class="token punctuation">.</span>config<span class="token punctuation">.</span>globalProperties<span class="token punctuation">.</span>$http <span class="token operator">=</span> axios

app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>

<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>

<span class="token comment">// vue2</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">&#39;axios&#39;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App&#39;</span>

<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$http <span class="token operator">=</span> axios

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><div class="highlight-line"> </div><br><br><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h2 id="_8-自定义指令的钩子函数名变化" tabindex="-1"><a class="header-anchor" href="#_8-自定义指令的钩子函数名变化"><span>8. 自定义指令的钩子函数名变化</span></a></h2><div class="custom-container tip"><p class="custom-container-title">说明</p><ul><li>vue3 和 vue2 的两个钩子函数名称变化，<strong>意义和用法都不变</strong></li><li>vue2 的 <strong>bind</strong> 钩子是在第一次绑定到 dom 上时触发，<strong>update</strong> 钩子是 dom 更新时触发</li><li>vue3 的 <strong>mounted</strong> 钩子是在第一次绑定到 dom 上时触发，<strong>updated</strong> 钩子是 dom 更新时触发</li></ul></div><h2 id="_9-vue-router-路由版本变化" tabindex="-1"><a class="header-anchor" href="#_9-vue-router-路由版本变化"><span>9. vue-router 路由版本变化</span></a></h2><div class="custom-container tip"><p class="custom-container-title">说明</p><ul><li>两个 vue-router 版本的语法有较大变化</li><li>vue2 只能用 vue-router3.x 版本</li><li>vue3 只能用 vue-router4.x 版本</li></ul></div>`,23),o=[p];function l(c,i){return n(),a("div",null,o)}const u=s(t,[["render",l],["__file","vue3-change-details.html.vue"]]),d=JSON.parse('{"path":"/frontend/vue/vue3/vue3-change-details.html","title":"Vue3 相对于 Vue2 的某些变化","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"1. 单文件组件变化","slug":"_1-单文件组件变化","link":"#_1-单文件组件变化","children":[]},{"level":2,"title":"2. 创建 Vue 实例语法变化","slug":"_2-创建-vue-实例语法变化","link":"#_2-创建-vue-实例语法变化","children":[]},{"level":2,"title":"3. vue-devtool 调试工具","slug":"_3-vue-devtool-调试工具","link":"#_3-vue-devtool-调试工具","children":[]},{"level":2,"title":"4. 样式穿透变更","slug":"_4-样式穿透变更","link":"#_4-样式穿透变更","children":[]},{"level":2,"title":"5. 自定义事件 emits 节点","slug":"_5-自定义事件-emits-节点","link":"#_5-自定义事件-emits-节点","children":[]},{"level":2,"title":"6. Vue 实例 生命周期函数 变化","slug":"_6-vue-实例-生命周期函数-变化","link":"#_6-vue-实例-生命周期函数-变化","children":[]},{"level":2,"title":"7. 挂载 axios 等工具变化","slug":"_7-挂载-axios-等工具变化","link":"#_7-挂载-axios-等工具变化","children":[]},{"level":2,"title":"8. 自定义指令的钩子函数名变化","slug":"_8-自定义指令的钩子函数名变化","link":"#_8-自定义指令的钩子函数名变化","children":[]},{"level":2,"title":"9. vue-router 路由版本变化","slug":"_9-vue-router-路由版本变化","link":"#_9-vue-router-路由版本变化","children":[]}],"git":{"updatedTime":1660215767000,"contributors":[{"name":"唐干宵","email":"1587900660@qq.com","commits":1}]},"filePathRelative":"frontend/vue/vue3/vue3-change-details.md"}');export{u as comp,d as data};
