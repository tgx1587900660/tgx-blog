import{_ as n,o as s,c as a,e}from"./app-CkeFUswH.js";const t="/tgx-blog/assets/github-actions1-CL2hWCkR.jpg",p="/tgx-blog/assets/github-actions2-CdRu0iyX.jpg",c="/tgx-blog/assets/github-actions3-AyOTIzuq.jpg",l={},o=e('<h1 id="åˆ©ç”¨-github-actions-è‡ªåŠ¨éƒ¨ç½²åšå®¢" tabindex="-1"><a class="header-anchor" href="#åˆ©ç”¨-github-actions-è‡ªåŠ¨éƒ¨ç½²åšå®¢"><span>åˆ©ç”¨ Github Actions è‡ªåŠ¨éƒ¨ç½²åšå®¢</span></a></h1><div class="custom-container tip"><p class="custom-container-title">è¯»å®Œè¿™ç¯‡æ–‡ç« ï¼Œä½ å°†èƒ½å¤Ÿï¼š</p><ul><li><ol><li>åˆæ­¥è®¤è¯† Github Actions æ˜¯ä»€ä¹ˆä¸œè¥¿</li></ol></li><li><ol start="2"><li>çŸ¥é“ Github Actions è¿è¡Œçš„å¤§æ¦‚æµç¨‹</li></ol></li><li><ol start="3"><li>å¯ä»¥å…è´¹è‡ªåŠ¨åŒ–éƒ¨ç½² è‡ªå·±çš„é™æ€ç«™ç‚¹</li></ol></li></ul></div><ul><li>æˆ‘ç”¨ Vuepress åšäº†ä¸ªé™æ€ç½‘é¡µåšå®¢ï¼Œæºç æ”¾åœ¨ github ä»“åº“ä¸­ã€‚æˆ‘çš„ç›®çš„æ˜¯æƒ³è¦ï¼šæ¯æ¬¡å†™å®Œä»£ç åï¼Œåªè¦æŠŠä»£ç  push ä¸Šå»ï¼Œå°±èƒ½è‡ªåŠ¨æ›´æ–°åšå®¢ã€‚å¹¶ä¸”æ— éœ€è´­ä¹°ä»»ä½•æœåŠ¡å™¨ï¼Œå°±èƒ½è®©æ‰€æœ‰äººè®¿é—®ã€‚</li></ul><h2 id="_1-åˆ›å»º-workflows-æ–‡ä»¶å¤¹" tabindex="-1"><a class="header-anchor" href="#_1-åˆ›å»º-workflows-æ–‡ä»¶å¤¹"><span>1. åˆ›å»º <code>workflows</code> æ–‡ä»¶å¤¹</span></a></h2><p>åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»º <code>.github/workflows</code> æ–‡ä»¶å¤¹ã€‚è¿™ä¸ªæ–‡ä»¶å¤¹ä¸­å­˜æ”¾ä¸€äº› <code>workflow</code> æ–‡ä»¶ã€‚ <code>workflow</code> æ–‡ä»¶é‡‡ç”¨ YAML æ ¼å¼ï¼Œæ–‡ä»¶åå¯ä»¥ä»»æ„å–ï¼Œä½†æ˜¯åç¼€åç»Ÿä¸€ä¸º <code>.yml</code>ï¼Œæ¯”å¦‚ <code>foo.yml</code>ã€‚ä¸€ä¸ªåº“å¯ä»¥æœ‰å¤šä¸ª workflow æ–‡ä»¶ã€‚GitHub åªè¦å‘ç° <code>.github/workflows</code> ç›®å½•é‡Œé¢æœ‰ <code>.yml</code> æ–‡ä»¶ï¼Œå°±ä¼šè‡ªåŠ¨è¿è¡Œè¯¥æ–‡ä»¶ã€‚</p><img src="'+t+`" alt="workflowsç›®å½•ç¤ºæ„å›¾" title="workflowsç›®å½•ç¤ºæ„å›¾"><h2 id="_2-åˆ›å»ºå¹¶ä¹¦å†™-yml-å†…å®¹" tabindex="-1"><a class="header-anchor" href="#_2-åˆ›å»ºå¹¶ä¹¦å†™-yml-å†…å®¹"><span>2. åˆ›å»ºå¹¶ä¹¦å†™ <code>.yml</code> å†…å®¹</span></a></h2><p>åœ¨ <code>.github/workflows</code> æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ª <code>github-actions-demo.yml</code> æ–‡ä»¶ã€‚å¹¶å†™å…¥ä»¥ä¸‹ä»£ç ï¼š</p><details class="custom-container details"><summary>ç‚¹å‡»æŸ¥çœ‹ github-actions-demo.yml å†…å®¹</summary><div class="language-yaml line-numbers-mode" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="token comment"># workflow çš„åå­—ï¼Œå¦‚æœçœç•¥è¯¥å­—æ®µï¼Œé»˜è®¤ä¸ºå½“å‰ workflow çš„æ–‡ä»¶å</span>
<span class="token key atrule">name</span><span class="token punctuation">:</span> GitHub Actions Demo

<span class="token comment"># workflow run çš„åå­—ï¼Œå¦‚æœçœç•¥è¯¥å­—æ®µï¼Œå°±å– commit ä¿¡æ¯</span>
<span class="token key atrule">run-name</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> github.actor <span class="token punctuation">}</span><span class="token punctuation">}</span> is testing out GitHub Actions ğŸš€

<span class="token comment"># è§¦å‘äº‹ä»¶, è¿™é‡Œæ˜¯æŒ‡ git push æ—¶è§¦å‘è¯¥ workflow, äº‹ä»¶æœ‰å¾ˆå¤š, push åªæ˜¯å…¶ä¸­ä¹‹ä¸€,æ›´å¤šéœ€è¦æŸ¥æ–‡æ¡£</span>
<span class="token comment"># on: [push]</span>
<span class="token comment"># æŒ‡å®šè§¦å‘äº‹ä»¶æ—¶ï¼Œä¹Ÿå¯ä»¥é™å®šåˆ†æ”¯æˆ–æ ‡ç­¾ã€‚ä»¥ä¸‹ä»£ç æŒ‡: åªæœ‰åœ¨ master åˆ†æ”¯ push æ—¶æ‰è§¦å‘ workflow</span>
<span class="token key atrule">on</span><span class="token punctuation">:</span>
  <span class="token key atrule">push</span><span class="token punctuation">:</span>
    <span class="token key atrule">branches</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>master<span class="token punctuation">]</span>

<span class="token comment"># jobså­—æ®µæ˜¯ä¸»ä½“ï¼Œè¡¨ç¤ºè¦æ‰§è¡Œçš„ä¸€é¡¹æˆ–å¤šé¡¹ä»»åŠ¡ã€‚è¿™é‡Œæœ‰3æ­¥ã€‚å…¶ä¸­ name æ˜¯ä»»åŠ¡è¯´æ˜ï¼Œæ²¡å¡«å°±å– job å</span>
<span class="token key atrule">jobs</span><span class="token punctuation">:</span>
  <span class="token comment"># è¯¥ job çš„åå­—</span>
  <span class="token key atrule">Demo-Actions1</span><span class="token punctuation">:</span>
    <span class="token comment"># æŒ‡å®š job åä¼šè¦†ç›– Demo-Actions1</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> This is Actions1
    <span class="token comment"># æŒ‡å®šè¿è¡Œçš„ç¯å¢ƒ</span>
    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest
    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span> echo &quot;è¿™æ˜¯ç¬¬ä¸€æ­¥<span class="token punctuation">:</span>Demo<span class="token punctuation">-</span>Actions1&quot;
      <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span> echo &quot;ğŸ‰ The job was automatically triggered by a $<span class="token punctuation">{</span><span class="token punctuation">{</span> github.event_name <span class="token punctuation">}</span><span class="token punctuation">}</span> event.&quot;
      <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span> echo &quot;ğŸ§ This job is now running on a $<span class="token punctuation">{</span><span class="token punctuation">{</span> runner.os <span class="token punctuation">}</span><span class="token punctuation">}</span> server hosted by GitHub<span class="token tag">!</span>&quot;
      <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span> echo &quot;ğŸ” The name of your branch is $<span class="token punctuation">{</span><span class="token punctuation">{</span> github.ref <span class="token punctuation">}</span><span class="token punctuation">}</span> and your repository is $<span class="token punctuation">{</span><span class="token punctuation">{</span> github.repository <span class="token punctuation">}</span><span class="token punctuation">}</span>.&quot;
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Check out repository code
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v3
      <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span> echo &quot;ğŸ’¡ The $<span class="token punctuation">{</span><span class="token punctuation">{</span> github.repository <span class="token punctuation">}</span><span class="token punctuation">}</span> repository has been cloned to the runner.&quot;
      <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span> echo &quot;ğŸ–¥ï¸ The workflow is now ready to test your code on the runner.&quot;
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> List files in the repository
        <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">
          ls \${{ github.workspace }}</span>
      <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span> echo &quot;ğŸ This job&#39;s status is $<span class="token punctuation">{</span><span class="token punctuation">{</span> job.status <span class="token punctuation">}</span><span class="token punctuation">}</span>.&quot;
  <span class="token key atrule">Demo-Actions2</span><span class="token punctuation">:</span>
    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest
    <span class="token comment"># è¡¨ç¤ºä¾èµ–ï¼Œå¿…é¡»è¦åœ¨ Demo-Actions1 æ‰§è¡Œå®Œä¹‹åï¼Œåœ¨æ‰§è¡Œè¯¥ job</span>
    <span class="token key atrule">needs</span><span class="token punctuation">:</span> Demo<span class="token punctuation">-</span>Actions1
    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span> echo &quot;è¿™æ˜¯ç¬¬äºŒæ­¥<span class="token punctuation">:</span>Demo<span class="token punctuation">-</span>Actions2&quot;
  <span class="token key atrule">Demo-Actions3</span><span class="token punctuation">:</span>
    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest
    <span class="token comment"># è¡¨ç¤ºä¾èµ–ï¼Œå¿…é¡»è¦åœ¨ Demo-Actions1, Demo-Actions2 æ‰§è¡Œå®Œä¹‹åï¼Œåœ¨æ‰§è¡Œè¯¥ job</span>
    <span class="token key atrule">needs</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>Demo<span class="token punctuation">-</span>Actions1<span class="token punctuation">,</span> Demo<span class="token punctuation">-</span>Actions2<span class="token punctuation">]</span>
    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span> echo &quot;è¿™æ˜¯ç¬¬ä¸‰æ­¥<span class="token punctuation">:</span>Demo<span class="token punctuation">-</span>Actions3&quot;
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> æ‰“å°æˆ‘çš„é—®å€™
        <span class="token comment"># æŒ‡å®šç¯å¢ƒå˜é‡</span>
        <span class="token key atrule">env</span><span class="token punctuation">:</span>
          <span class="token key atrule">MY_CONST</span><span class="token punctuation">:</span> Hi<span class="token tag">!</span> My name is
          <span class="token key atrule">FIRST_NAME</span><span class="token punctuation">:</span> Tele
          <span class="token key atrule">LAST_NAME</span><span class="token punctuation">:</span> ctron
        <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">
          echo &quot;$MY_CONST $FIRST_NAME$LAST_NAME.&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><blockquote><p>è¡¥å……è¯´æ˜</p></blockquote><ul><li>jobs ä¸­çš„ runs-on å­—æ®µæŒ‡å®š è™šæ‹Ÿæœºç¯å¢ƒä¸º ubuntu-latest, æ˜¯å¿…å¡«å­—æ®µ</li><li>jobs ä¸­çš„ needs å­—æ®µæŒ‡å®š è¿è¡Œé¡ºåºï¼Œé€‰å¡«ã€‚å¦‚æœä¸å†™ï¼Œå°±å¹¶è¡Œè¿è¡Œä»»åŠ¡</li><li>jobs ä¸­ steps å­—æ®µæŒ‡å®šæ¯ä¸ª job çš„è¿è¡Œæ­¥éª¤ï¼Œå¯ä»¥åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæ­¥éª¤ã€‚æ¯ä¸ªæ­¥éª¤éƒ½å¯ä»¥æŒ‡å®šæŸäº›å­—æ®µ <ul><li>name: æ­¥éª¤åç§°ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®š name å°±ç›´æ¥å– run çš„å†…å®¹</li><li>run: è¯¥æ­¥éª¤è¿è¡Œçš„å‘½ä»¤</li><li>env: è¯¥æ­¥éª¤æ‰€éœ€çš„ç¯å¢ƒå˜é‡</li></ul></li><li><code>\${{ github.event_name }}</code> å–åˆ°çš„å€¼æ˜¯ <code>push</code>ï¼Œä¹Ÿå°±æ˜¯ on æŒ‡å®šçš„äº‹ä»¶</li><li><code>\${{ runner.os }}</code> å–åˆ°çš„å€¼æ˜¯ <code>Linux</code></li><li><code>\${{ github.ref }}</code> å–åˆ°çš„å€¼æ˜¯ <code>refs/heads/master</code></li><li><code>\${{ github.repository }}</code> å–åˆ°çš„å€¼æ˜¯ <code>tgx1587900660/tgx-blog</code>ï¼Œä¹Ÿå°±æ˜¯ä»“åº“å</li><li><code>\${{ github.workspace }}</code> å–åˆ°çš„å€¼æ˜¯ <code>/home/runner/work/tgx-blog/tgx-blog</code></li><li><code>\${{ job.status }}</code> å–åˆ°çš„å€¼æ˜¯ <code>success</code>ï¼ŒæŒ‡è¯¥ job çš„çŠ¶æ€</li></ul><blockquote><p>å­—æ®µçš„è¯´æ˜å›¾</p></blockquote><img src="`+p+'" alt="è¡¥å……è¯´æ˜å›¾" title="è¡¥å……è¯´æ˜å›¾"><blockquote><p>needs å­—æ®µæ•ˆæœå›¾</p></blockquote><img src="'+c+`" alt="needs å­—æ®µæ•ˆæœå›¾" title="needs å­—æ®µæ•ˆæœå›¾"><ul><li>åˆ°æ­¤ä¸ºæ­¢ï¼ŒGithub Actions è¿è¡Œçš„å¤§æ¦‚æµç¨‹ï¼Œå°±å­¦ä¹ å®Œæˆäº†ã€‚æ¥ä¸‹æ¥ï¼Œè¦å®Œæˆ Vuepress çš„éƒ¨ç½²å®æˆ˜ã€‚</li></ul><h2 id="_3-å®ç°-vuepress-è‡ªåŠ¨éƒ¨ç½²" tabindex="-1"><a class="header-anchor" href="#_3-å®ç°-vuepress-è‡ªåŠ¨éƒ¨ç½²"><span>3. å®ç° Vuepress è‡ªåŠ¨éƒ¨ç½²</span></a></h2><div class="custom-container tip"><p class="custom-container-title">è¯´æ˜</p><p>åœ¨ <code>github-actions-demo.yml</code> å¹³çº§ç›®å½•æ–°å»ºä¸€ä¸ª <code>docs.yml</code> æ–‡ä»¶ï¼ˆå¯ä»»èµ·ï¼Œåªè¦æ˜¯ .yml ç»“å°¾å°±è¡Œï¼‰ï¼Œå¹¶å†™å…¥ä»¥ä¸‹å†…å®¹å³å¯ã€‚æ¯æ¬¡ push ä»£ç ä¹‹åï¼Œä»¥ä¸‹å†…å®¹å°±ä¼šè¢«é‡è·‘ã€‚</p></div><ul><li>ğŸ‘‡ è¿™æ˜¯ docs.yml çš„ 1.0.0 ç‰ˆæœ¬ï¼Œå®ç°äº†è‡ªåŠ¨æ›´æ–°åšå®¢åŠŸèƒ½ï¼ˆéšç€ docs.yml çš„æ›´æ–°ï¼Œå’±ä¼šäº†è§£æ›´å¤šçš„ workflow çŸ¥è¯†ï¼‰</li></ul><details class="custom-container details"><summary>ç‚¹å‡»æŸ¥çœ‹ docs.yml å®Œæ•´ä»£ç </summary><div class="language-yaml line-numbers-mode" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="token comment"># ä»¥ä¸‹æ˜¯å®ç°è‡ªåŠ¨åŒ–éƒ¨ç½² Vuepress åšå®¢çš„å®Œæ•´å†…å®¹</span>
<span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy Docs
<span class="token key atrule">run-name</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> github.actor <span class="token punctuation">}</span><span class="token punctuation">}</span> is deploying docs to github pages ğŸš€

<span class="token key atrule">on</span><span class="token punctuation">:</span>
  <span class="token key atrule">push</span><span class="token punctuation">:</span>
    <span class="token key atrule">branches</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>master<span class="token punctuation">]</span>

<span class="token key atrule">jobs</span><span class="token punctuation">:</span>
  <span class="token key atrule">My-Job1</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> Build And Deploy Docs
    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest
    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
      <span class="token comment"># è·å– git æ—¥å¿—ï¼Œç”¨äºåšå®¢åº•éƒ¨æ›´æ–°ä¿¡æ¯</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> get git info
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v3
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">fetch-depth</span><span class="token punctuation">:</span> <span class="token number">0</span>
      <span class="token comment"># è®¾ç½® node çš„ç‰ˆæœ¬</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> set Node version
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>node@v3
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">node-version</span><span class="token punctuation">:</span> <span class="token string">&#39;16&#39;</span>
      <span class="token comment"># ç¼“å­˜ node_modules</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Cache Dependencies
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/cache@v3
        <span class="token key atrule">id</span><span class="token punctuation">:</span> yarn<span class="token punctuation">-</span>cache
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">path</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">
            **/node_modules</span>
          <span class="token key atrule">key</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> runner.os <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">-</span>yarn<span class="token punctuation">-</span>$<span class="token punctuation">{</span><span class="token punctuation">{</span> hashFiles(&#39;<span class="token important">**/yarn.lock&#39;)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
          <span class="token key atrule">restore-keys</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">
            \${{ runner.os }}-yarn-</span>
      <span class="token comment"># å¦‚æœç¼“å­˜æ²¡æœ‰å‘½ä¸­ï¼Œå®‰è£…ä¾èµ–</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Install Dependencies
        <span class="token key atrule">if</span><span class="token punctuation">:</span> steps.yarn<span class="token punctuation">-</span>cache.outputs.cache<span class="token punctuation">-</span>hit <span class="token tag">!=</span> &#39;true&#39;
        <span class="token key atrule">run</span><span class="token punctuation">:</span> yarn <span class="token punctuation">-</span><span class="token punctuation">-</span>frozen<span class="token punctuation">-</span>lockfile
      <span class="token comment"># æ‰“åŒ…ç”Ÿæˆ é™æ€ç½‘é¡µ</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Build VuePress site
        <span class="token key atrule">run</span><span class="token punctuation">:</span> yarn build
      <span class="token comment"># éƒ¨ç½²ä¸Šçº¿</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy to gitHub pages
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> crazy<span class="token punctuation">-</span>max/ghaction<span class="token punctuation">-</span>github<span class="token punctuation">-</span>pages@v3
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token comment"># éƒ¨ç½²åˆ° gh-pages åˆ†æ”¯</span>
          <span class="token key atrule">target_branch</span><span class="token punctuation">:</span> gh<span class="token punctuation">-</span>pages
          <span class="token comment"># éƒ¨ç½²ç›®å½•ä¸º VuePress çš„é»˜è®¤è¾“å‡ºç›®å½•</span>
          <span class="token key atrule">build_dir</span><span class="token punctuation">:</span> docs/.vuepress/dist
        <span class="token key atrule">env</span><span class="token punctuation">:</span>
          <span class="token comment"># @see https://docs.github.com/cn/actions/reference/authentication-in-a-workflow#about-the-github_token-secret</span>
          <span class="token key atrule">GITHUB_TOKEN</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.GITHUB_TOKEN <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><ul><li>ğŸ‘‡ è¿™æ˜¯ docs.yml çš„ 1.0.1 ç‰ˆæœ¬ï¼Œæ–°å¢äº† strategy å˜é‡åŠå…¶è·å–æ–¹å¼ã€steps æ­¥éª¤é€šè¿‡ id æ¥å–å€¼æ–¹å¼</li></ul><details class="custom-container details"><summary>ç‚¹å‡»æŸ¥çœ‹ docs.yml å®Œæ•´ä»£ç </summary><div class="language-yaml line-numbers-mode" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy Docs
<span class="token key atrule">run-name</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> github.actor <span class="token punctuation">}</span><span class="token punctuation">}</span> is deploying docs to github pages ğŸš€

<span class="token key atrule">on</span><span class="token punctuation">:</span>
  <span class="token key atrule">push</span><span class="token punctuation">:</span>
    <span class="token key atrule">branches</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>master<span class="token punctuation">]</span>

<span class="token key atrule">jobs</span><span class="token punctuation">:</span>
  <span class="token key atrule">My-Job1</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> Build And Deploy Docs
    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest
    <span class="token key atrule">strategy</span><span class="token punctuation">:</span>
      <span class="token key atrule">matrix</span><span class="token punctuation">:</span>
        <span class="token comment"># See supported Node.js release schedule at https://nodejs.org/en/about/releases/</span>
        <span class="token key atrule">node-version</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>16.x<span class="token punctuation">]</span>
    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
      <span class="token comment"># è·å– git æ—¥å¿—ï¼Œç”¨äºåšå®¢åº•éƒ¨æ›´æ–°ä¿¡æ¯</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> get git info
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v3
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">fetch-depth</span><span class="token punctuation">:</span> <span class="token number">0</span>
      <span class="token comment"># è®¾ç½® node çš„ç‰ˆæœ¬</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Use Node.js $<span class="token punctuation">{</span><span class="token punctuation">{</span> matrix.node<span class="token punctuation">-</span>version <span class="token punctuation">}</span><span class="token punctuation">}</span>
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>node@v3
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">node-version</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> matrix.node<span class="token punctuation">-</span>version <span class="token punctuation">}</span><span class="token punctuation">}</span>
      <span class="token comment"># ç¼“å­˜ node_modules</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Cache Dependencies
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/cache@v3
        <span class="token key atrule">id</span><span class="token punctuation">:</span> modules<span class="token punctuation">-</span>cache
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">path</span><span class="token punctuation">:</span> <span class="token string">&#39;**/node_modules&#39;</span>
          <span class="token key atrule">key</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> runner.os <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">-</span>modules<span class="token punctuation">-</span>$<span class="token punctuation">{</span><span class="token punctuation">{</span> hashFiles(&#39;<span class="token important">**/yarn.lock&#39;)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
      <span class="token comment"># å¦‚æœç¼“å­˜æ²¡æœ‰å‘½ä¸­ï¼Œå®‰è£…ä¾èµ–ï¼Œ cache-hit æ˜¯å›ºå®šå€¼</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Install Dependencies
        <span class="token key atrule">if</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> steps.modules<span class="token punctuation">-</span>cache.outputs.cache<span class="token punctuation">-</span>hit <span class="token tag">!=</span> &#39;true&#39; <span class="token punctuation">}</span><span class="token punctuation">}</span>
        <span class="token key atrule">run</span><span class="token punctuation">:</span> yarn <span class="token punctuation">-</span><span class="token punctuation">-</span>frozen<span class="token punctuation">-</span>lockfile
      <span class="token comment"># æ‰“åŒ…ç”Ÿæˆ é™æ€ç½‘é¡µ</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Build VuePress site
        <span class="token key atrule">run</span><span class="token punctuation">:</span> yarn run build
      <span class="token comment"># éƒ¨ç½²ä¸Šçº¿</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy to gitHub pages
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> crazy<span class="token punctuation">-</span>max/ghaction<span class="token punctuation">-</span>github<span class="token punctuation">-</span>pages@v3
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token comment"># éƒ¨ç½²åˆ° gh-pages åˆ†æ”¯</span>
          <span class="token key atrule">target_branch</span><span class="token punctuation">:</span> gh<span class="token punctuation">-</span>pages
          <span class="token comment"># éƒ¨ç½²ç›®å½•ä¸º VuePress çš„é»˜è®¤è¾“å‡ºç›®å½•</span>
          <span class="token key atrule">build_dir</span><span class="token punctuation">:</span> docs/.vuepress/dist
        <span class="token key atrule">env</span><span class="token punctuation">:</span>
          <span class="token comment"># @see https://docs.github.com/cn/actions/reference/authentication-in-a-workflow#about-the-github_token-secret</span>
          <span class="token key atrule">GITHUB_TOKEN</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.GITHUB_TOKEN <span class="token punctuation">}</span><span class="token punctuation">}</span>


</code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><div class="highlight-line">Â </div><div class="highlight-line">Â </div><div class="highlight-line">Â </div><div class="highlight-line">Â </div><br><br><br><br><br><br><div class="highlight-line">Â </div><div class="highlight-line">Â </div><div class="highlight-line">Â </div><div class="highlight-line">Â </div><div class="highlight-line">Â </div><br><br><br><div class="highlight-line">Â </div><br><br><br><br><br><div class="highlight-line">Â </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details>`,22),i=[o];function u(k,r){return s(),a("div",null,i)}const v=n(l,[["render",u],["__file","github-actions.html.vue"]]),m=JSON.parse('{"path":"/frontend/source/article/github-actions.html","title":"åˆ©ç”¨ Github Actions è‡ªåŠ¨éƒ¨ç½²åšå®¢","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"1. åˆ›å»º workflows æ–‡ä»¶å¤¹","slug":"_1-åˆ›å»º-workflows-æ–‡ä»¶å¤¹","link":"#_1-åˆ›å»º-workflows-æ–‡ä»¶å¤¹","children":[]},{"level":2,"title":"2. åˆ›å»ºå¹¶ä¹¦å†™ .yml å†…å®¹","slug":"_2-åˆ›å»ºå¹¶ä¹¦å†™-yml-å†…å®¹","link":"#_2-åˆ›å»ºå¹¶ä¹¦å†™-yml-å†…å®¹","children":[]},{"level":2,"title":"3. å®ç° Vuepress è‡ªåŠ¨éƒ¨ç½²","slug":"_3-å®ç°-vuepress-è‡ªåŠ¨éƒ¨ç½²","link":"#_3-å®ç°-vuepress-è‡ªåŠ¨éƒ¨ç½²","children":[]}],"git":{"updatedTime":1682417707000,"contributors":[{"name":"å”å¹²å®µ","email":"1587900660@qq.com","commits":14}]},"filePathRelative":"frontend/source/article/github-actions.md"}');export{v as comp,m as data};
