import{_ as n,o as s,c as a,d as t}from"./app.7f1a794e.js";const p={},e=t(`<h1 id="async-await-\u76F8\u5173\u77E5\u8BC6" tabindex="-1"><a class="header-anchor" href="#async-await-\u76F8\u5173\u77E5\u8BC6" aria-hidden="true">#</a> Async / Await \u76F8\u5173\u77E5\u8BC6</h1><h2 id="_1-async-await-\u6709\u4EC0\u4E48\u7528" tabindex="-1"><a class="header-anchor" href="#_1-async-await-\u6709\u4EC0\u4E48\u7528" aria-hidden="true">#</a> 1. async/await \u6709\u4EC0\u4E48\u7528</h2><div class="custom-container tip"><p class="custom-container-title">\u8BF4\u660E</p><p>async/await \u662F ES8\uFF08ECMAScript 2017\uFF09\u5F15\u5165\u7684\u65B0\u8BED\u6CD5\uFF0C\u7528\u6765\u7B80\u5316 Promise \u5F02\u6B65\u64CD\u4F5C\u3002 \u5728 async/await \u51FA\u73B0\u4E4B\u524D\uFF0C\u5F00\u53D1\u8005\u53EA\u80FD\u901A\u8FC7\u94FE\u5F0F .then() \u7684\u65B9\u5F0F\u5904\u7406 Promise \u5F02\u6B65\u64CD\u4F5C</p></div><ul><li>then() \u94FE\u5F0F\u8C03\u7528\u7684\u4F18\u7F3A\u70B9 <ul><li>\u4F18\u70B9\uFF1A\u89E3\u51B3\u4E86\u56DE\u8C03\u5730\u72F1\u7684\u95EE\u9898</li><li>\u7F3A\u70B9\uFF1A\u4EE3\u7801\u53EF\u9605\u8BFB\u6027\u5DEE\u3001\u4E0D\u6613\u7406\u89E3</li></ul></li><li>async/await \u7684\u597D\u5904 <ul><li>\u53EF\u4EE5\u89E3\u51B3\u5F02\u6B65\u7F16\u7A0B\u7684\u56DE\u8C03\u5730\u72F1\u95EE\u9898</li><li>\u4F7F\u5F97\u5F02\u6B65\u4EE3\u7801\u770B\u8D77\u6765\u50CF\u540C\u6B65\u4EE3\u7801\u4E00\u6837\u76F4\u89C2</li></ul></li></ul><h2 id="_2-async-await-\u8BED\u6CD5\u7279\u6027" tabindex="-1"><a class="header-anchor" href="#_2-async-await-\u8BED\u6CD5\u7279\u6027" aria-hidden="true">#</a> 2. async/await \u8BED\u6CD5\u7279\u6027</h2><div class="custom-container tip"><p class="custom-container-title">\u6CE8\u610F\u4E8B\u9879</p><ul><li>async/await \u662F\u4E00\u8D77\u51FA\u73B0\u7684\u3002\u4E00\u4E2A Promise \u5B9E\u4F8B\u5982\u679C\u88AB await \u4FEE\u9970\uFF0C\u90A3\u5B83\u5916\u5C42\u7684\u8FD9\u4E2A\u51FD\u6570\u5C31\u8981\u88AB async \u4FEE\u9970\u6210\u5F02\u6B65\u51FD\u6570</li><li>\u5728 async \u65B9\u6CD5\u4E2D\uFF0C<strong>\u7B2C\u4E00\u4E2A await \u4E4B\u524D\u7684\u4EE3\u7801\u4F1A\u540C\u6B65\u6267\u884C</strong>\uFF0Cawait \u4E4B\u540E\u7684\u4EE3\u7801\u4F1A\u5F02\u6B65\u6267\u884C</li></ul></div><details class="custom-container details"><summary>\u70B9\u51FB\u67E5\u770B async/await \u8BED\u6CD5 \u6848\u4F8B</summary><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5B9A\u4E49 3 \u4E2A\u8FD4\u56DE Promise \u5B9E\u4F8B\u5BF9\u8C61\u7684\u53D8\u91CF</span>
<span class="token keyword">const</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> p3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">)</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getRes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> res1 <span class="token operator">=</span> <span class="token keyword">await</span> p1
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res1<span class="token punctuation">)</span> <span class="token comment">// \u8F93\u51FA p1 \u7684\u8FD4\u56DE\u7ED3\u679C</span>

    <span class="token keyword">const</span> res2 <span class="token operator">=</span> <span class="token keyword">await</span> p2
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res2<span class="token punctuation">)</span> <span class="token comment">// \u8F93\u51FA p2 \u7684\u8FD4\u56DE\u7ED3\u679C</span>

    <span class="token keyword">const</span> res3 <span class="token operator">=</span> <span class="token keyword">await</span> p3
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res3<span class="token punctuation">)</span> <span class="token comment">// \u8F93\u51FA p3 \u7684\u8FD4\u56DE\u7ED3\u679C</span>
<span class="token punctuation">}</span>

<span class="token function">getRes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// \u4F1A\u4ECE\u4E0A\u5F80\u4E0B\u4F9D\u6B21\u5F97\u5230 p1 p2 p3 \u7684\u7ED3\u679C</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><details class="custom-container details"><summary>\u70B9\u51FB\u67E5\u770B async/await \u540C\u6B65\u6267\u884C\u7684\u987A\u5E8F \u6848\u4F8B</summary><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> fs <span class="token keyword">from</span> <span class="token string">&#39;fs&#39;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;A&#39;</span><span class="token punctuation">)</span> <span class="token comment">// 1.\u540C\u6B65\u4EE3\u7801 A</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getFiles</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;B&#39;</span><span class="token punctuation">)</span> <span class="token comment">// 2.\u7B2C\u4E00\u4E2A await \u4E4B\u524D\u7684\u4ECD\u7136\u89C6\u4E3A\u540C\u6B65\u4EE3\u7801 B</span>

  <span class="token comment">// \u9047\u5230 await \u5C31\u63A8\u8FDB\u4EFB\u52A1\u5217\u961F\uFF0C\u53BB\u6267\u884C\u5916\u9762\u7684\u540C\u6B65\u4EE3\u7801 C</span>
  <span class="token keyword">const</span> res1 <span class="token operator">=</span> <span class="token keyword">await</span> fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">&#39;./def.txt&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;utf8&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;D&#39;</span><span class="token punctuation">)</span> <span class="token comment">// 4.\u540C\u6B65\u4EE3\u7801\u6267\u884C\u5B8C\u6BD5\uFF0C\u6765\u5230\u5F02\u6B65\u4EFB\u52A1 D</span>
  <span class="token keyword">const</span> res2 <span class="token operator">=</span> <span class="token keyword">await</span> fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">&#39;./def.txt&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;utf8&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;E&#39;</span><span class="token punctuation">)</span> <span class="token comment">// 5.\u7EE7\u7EED\u5F02\u6B65\u4EFB\u52A1 E</span>
  <span class="token keyword">const</span> res3 <span class="token operator">=</span> <span class="token keyword">await</span> fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">&#39;./def.txt&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;utf8&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;F&#39;</span><span class="token punctuation">)</span> <span class="token comment">// 6.\u7EE7\u7EED\u5F02\u6B65\u4EFB\u52A1 F</span>
<span class="token punctuation">}</span>

<span class="token function">getFiles</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;C&#39;</span><span class="token punctuation">)</span> <span class="token comment">// 3.\u540C\u6B65\u4EE3\u7801 C</span>

<span class="token comment">// \u7ED3\u679C\u4E3A</span>
<span class="token comment">// A</span>
<span class="token comment">// B</span>
<span class="token comment">// C</span>
<span class="token comment">// D</span>
<span class="token comment">// E</span>
<span class="token comment">// F</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details>`,8),o=[e];function c(i,l){return s(),a("div",null,o)}var r=n(p,[["render",c],["__file","async-await.html.vue"]]);export{r as default};
